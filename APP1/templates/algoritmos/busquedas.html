{% extends 'algoritmos/index.html' %}
{% load static %}
{% block extra_css %}
<style>
    #data-grid h4 {
        margin-top: 20px;
    }
</style>
{% endblock %}

{% block content %}
<section class="container my-4">
    <h3>Algoritmos de Búsqueda</h3>
    
    <div class="mb-4">
        <button class="btn btn-primary" onclick="showData('linear')">Búsqueda Lineal</button>
        <button class="btn btn-primary" onclick="showData('binary')">Búsqueda Binaria</button>
        <button class="btn btn-primary" onclick="showData('hash')">Búsqueda por Hash</button>
    </div>

    <div id="data-grid" class="mt-4">
        <!-- Aquí se mostrará la tabla del datagrid -->
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    function showData(type) {
        const dataGrid = document.getElementById('data-grid');
        const objetivo = 'A'; // Cambia según el criterio de búsqueda que deseas probar
        
        fetch(`/search/?type=${type}&objetivo=${objetivo}`)
            .then(response => response.json())
            .then(result => {
                if (result.length > 0) {
                    const resultTable = `
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Valor</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${result.map(item => `
                                    <tr>
                                        <td>${item.id}</td>
                                        <td>${item.nombre}</td>
                                        <td>${item.valor}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    dataGrid.innerHTML = resultTable;
                } else {
                    dataGrid.innerHTML = '<p>No se encontraron resultados.</p>';
                }
            })
            .catch(error => {
                console.error('Error al realizar la búsqueda:', error);
                dataGrid.innerHTML = '<p>Error al realizar la búsqueda. Intente nuevamente.</p>';
            });
    }
</script>
{% endblock %}





